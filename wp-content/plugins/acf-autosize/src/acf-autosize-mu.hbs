<?php
{{{commentHeader}}}

/**
 * This is a single-file drop-in version of acf-autosize for usage in your theme or mu-plugins. It contains the javascript and is AUTOGENERATED by running `npm run mu`!
 */

namespace YeahACFAutosize;

class ACFAutosizeMu {

	public function __construct() {
		add_action('init', array($this, "enqueues"));
	}

	public function enqueues()
	{
		// echo scripts & styles in backend
		add_action('admin_head', array($this, "echoCss"));
		add_action('admin_footer', array($this, "echoJs"));

		// echo scripts & styles in frontend
		if (apply_filters('acf-autosize/enabledInFrontend', false)) {
			add_action('wp_head', array($this, "echoCss"));
			add_action('wp_footer', array($this, "echoJs"));
		}
	}

	public function echoCss() {
		echo "<style>";
		echo "{{{ autosizeCss }}}";
		echo "</style>";
	}

	public function echoJs() {
		echo "<script type=\"text/javascript\">";
		echo "ACFAutosize = {";
		echo "'wysiwyg':{'minHeight': ".apply_filters('acf-autosize/wysiwyg/min-height', 200)."},";
		echo "'enabledByDefault':".apply_filters('acf-autosize/enabledByDefault', true);
		echo "};";
		echo "</script>";
		echo "<script type=\"text/javascript\">";
		echo "{{{ autosizeJs }}}";
		echo "</script>";
	}

	
}

new ACFAutosizeMu();
